{"version":3,"sources":["compoent_d/ContentShow/ContentShow.js","compoent_d/ContentShow/ContentShow.scss","features/task_tech/Tech.js"],"names":["marked","require","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","str","lang","hljs","getLanguage","value","__","highlightAuto","ContentShow","state","data_titles","html_show","select_title_id","img_url","addClickImg","e","path","nodeName","params","oPics","document","getElementsByTagName","param","imageArray","i","length","push","url","src","index","setState","visible","PreviewApi","preview","clickTitle","objectId","ServerNetWorkUtils","getArticleByArticleId","then","res","result","content","title","catch","error","body","removeEventListener","this","initBmob","getAllTitlesArticles","props","type_id","addEventListener","styles","title_select","className","main","left_main","map","data","onClick","title_sy","isSelectTitle","v_line","right_main","dangerouslySetInnerHTML","__html","React","Component","module","exports","Tech"],"mappings":"2QAYIA,EAASC,EAAQ,KACrBD,EAAOE,WAAW,CACdC,SAAU,IAAIH,EAAOI,SACrBC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,YAAY,EACZC,aAAa,EACbC,UAAW,SAAUC,EAAKC,GACtB,GAAIA,GAAQC,IAAKC,YAAYF,GACzB,IACI,OAAOC,IAAKH,UAAUE,EAAMD,GAAKI,MACnC,MAAOC,IAIb,IACI,OAAOH,IAAKI,cAAcN,GAAKI,MACjC,MAAOC,IAGT,MAAO,M,IAIME,E,4MAEjBC,MAAQ,CACJC,YAAa,GACbC,UAAW,GACXC,gBAAiB,GACjBC,QAAS,I,EA0BbC,YAAc,SAACC,GAGX,GAA2B,QAAvBA,EAAEC,KAAK,GAAGC,SAAoB,CAC9B,IAAIC,EAAS,CACbA,MAAe,IAEXC,EAAQC,SAASC,qBAAqB,OAC1CH,EAAOI,MAAMC,WAAa,GAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAMM,OAAQD,IAC9BN,EAAOI,MAAMC,WAAWG,KAAK,CAAEC,IAAKR,EAAMK,GAAGI,MAEjD,IAAK,IAAIJ,EAAI,EAAGA,EAAIL,EAAMM,OAAQD,IAE9B,GAAIT,EAAEC,KAAK,GAAGY,MAAQV,EAAOI,MAAMC,WAAWC,GAAGG,IAAK,CAClDT,EAAOI,MAAMO,MAAQL,EACrB,MAGR,IAAIX,EAAUK,EAAOI,MAAMC,WAAWL,EAAOI,MAAMO,OAAOF,IAE1D,EAAKG,SAAS,CACVjB,QAASA,EACTkB,SAAS,IAGbC,IAAWC,QAAQpB,K,EAK3BqB,WAAa,SAACC,GAEV,EAAKL,SAAS,CACVlB,gBAAiBuB,IAErBC,IAAmBC,sBAAsBF,GACpCG,MAAK,SAAAC,GAEF,IAAIC,EAASpD,EAAOmD,EAAIE,SACxB,EAAKX,SAAS,CACVnB,UAAW6B,EACXE,MAAOH,EAAIG,WAEhBC,OAAM,SAAAC,Q,0DAnEjB,WACIxB,SAASyB,KAAKC,oBAAoB,QAASC,KAAKjC,e,+BAEpD,WAAqB,IAAD,OAChBsB,IAAmBY,WAEnBZ,IAAmBa,qBAAqBF,KAAKG,MAAMC,SAC9Cb,MAAK,SAAAC,GACF,EAAKT,SAAS,CACVpB,YAAa6B,IAGbA,EAAId,OAAS,GACb,EAAKS,WAAWK,EAAI,GAAGJ,aAE5BQ,OAAM,SAAAC,OAIbxB,SAASyB,KAAKO,iBAAiB,QAASL,KAAKjC,e,2BAoDjD,SAAcqB,GACV,OAAOY,KAAKtC,MAAMG,iBAAmBuB,EAAWkB,IAAOC,aAAe,K,oBAG1E,WAAU,IAAD,OAGL,OAEI,sBAAKC,UAAWF,IAAOG,KAAvB,UACI,qBAAKD,UAAWF,IAAOI,UAAvB,SACKV,KAAKtC,MAAMC,YAAYgD,KAAI,SAAAC,GAExB,OACI,qBAAKC,QAAS,kBAAM,EAAK1B,WAAWyB,EAAKxB,WACrCoB,UAAWF,IAAOQ,SAAW,IAAM,EAAKC,cAAcH,EAAKxB,UAD/D,SAC+FwB,EAAKjB,OAArBiB,EAAKxB,eAKhG,qBAAKoB,UAAWF,IAAOU,SACvB,sBAAKR,UAAWF,IAAOW,WAAvB,UACI,qBAAKT,UAAWF,IAAOX,MAAvB,SAA+BK,KAAKtC,MAAMiC,QAC1C,qBAAKuB,wBAAyB,CAAEC,OAAQnB,KAAKtC,MAAME,uB,GAvG9BwD,IAAMC,Y,oBCtC/CC,EAAOC,QAAU,CAAC,OAAS,wDAAwD,OAAS,wDAAwD,KAAO,sDAAsD,UAAY,2DAA2D,SAAW,0DAA0D,aAAe,8DAA8D,WAAa,4DAA4D,MAAQ,uDAAuD,MAAQ,yD,kLCMriBC,E,4JAEjB,WACI,OACI,cAAC,IAAD,CAAapB,QAAQ,mB,GAJCgB,IAAMC","file":"static/js/12.8cc6d2ba.chunk.js","sourcesContent":["import ServerNetWorkUtils from \"@/data_model/ServerNetWorkUtils\";\r\n\r\nimport React from \"react\";\r\n\r\nimport styles from './ContentShow.scss';\r\n\r\nimport hljs from \"highlight.js\";\r\nimport 'highlight.js/styles/atom-one-dark.css';\r\nimport './markdown10.scss';\r\n\r\nimport { PreviewApi } from '@zzwing/react-image'\r\n\r\nvar marked = require('marked');\r\nmarked.setOptions({\r\n    renderer: new marked.Renderer(),\r\n    gfm: true,\r\n    tables: true,\r\n    breaks: true,\r\n    pedantic: false,\r\n    sanitize: false,\r\n    smartLists: true,\r\n    smartypants: false,\r\n    highlight: function (str, lang) {\r\n        if (lang && hljs.getLanguage(lang)) {\r\n            try {\r\n                return hljs.highlight(lang, str).value;\r\n            } catch (__) {\r\n            }\r\n        }\r\n\r\n        try {\r\n            return hljs.highlightAuto(str).value;\r\n        } catch (__) {\r\n        }\r\n\r\n        return ''; // use e\r\n    }\r\n});\r\n\r\nexport default class ContentShow extends React.Component {\r\n\r\n    state = {\r\n        data_titles: [],\r\n        html_show: \"\",\r\n        select_title_id: '',\r\n        img_url: '',\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        document.body.removeEventListener('click', this.addClickImg)\r\n    }\r\n    componentDidMount() {\r\n        ServerNetWorkUtils.initBmob();\r\n        console.log(\"--this.props.type_id \" + this.props.type_id)\r\n        ServerNetWorkUtils.getAllTitlesArticles(this.props.type_id)\r\n            .then(res => {\r\n                this.setState({\r\n                    data_titles: res\r\n                })\r\n\r\n                if (res.length > 0) {\r\n                    this.clickTitle(res[0].objectId)\r\n                }\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n        document.body.addEventListener('click', this.addClickImg);\r\n\r\n    }\r\n\r\n    addClickImg = (e) => {\r\n\r\n        // 判断是否点击的图片\r\n        if (e.path[0].nodeName === 'IMG') {\r\n            let params = {};\r\n            params.param = {};\r\n            // 获取imglist\r\n            var oPics = document.getElementsByTagName(\"img\");\r\n            params.param.imageArray = [];\r\n            for (let i = 0; i < oPics.length; i++) {\r\n                params.param.imageArray.push({ url: oPics[i].src });\r\n            }\r\n            for (let i = 0; i < oPics.length; i++) {\r\n                // 判断点击图片的index\r\n                if (e.path[0].src === params.param.imageArray[i].url) {\r\n                    params.param.index = i;\r\n                    break\r\n                }\r\n            }\r\n            let img_url = params.param.imageArray[params.param.index].url\r\n            console.log(img_url);\r\n            this.setState({\r\n                img_url: img_url,\r\n                visible: true,\r\n            })\r\n\r\n            PreviewApi.preview(img_url)\r\n        }\r\n\r\n    }\r\n\r\n    clickTitle = (objectId) => {\r\n        console.log(objectId)\r\n        this.setState({\r\n            select_title_id: objectId\r\n        })\r\n        ServerNetWorkUtils.getArticleByArticleId(objectId)\r\n            .then(res => {\r\n                // console.log(res)\r\n                let result = marked(res.content);\r\n                this.setState({\r\n                    html_show: result,\r\n                    title: res.title,\r\n                })\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n    isSelectTitle(objectId) {\r\n        return this.state.select_title_id == objectId ? styles.title_select : \"\";\r\n    }\r\n\r\n    render() {\r\n\r\n      \r\n        return (\r\n\r\n            <div className={styles.main}>\r\n                <div className={styles.left_main}>\r\n                    {this.state.data_titles.map(data => {\r\n\r\n                        return (\r\n                            <div onClick={() => this.clickTitle(data.objectId)}\r\n                                className={styles.title_sy + \" \" + this.isSelectTitle(data.objectId)} key={data.objectId}>{data.title}</div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n                <div className={styles.v_line} />\r\n                <div className={styles.right_main} >\r\n                    <div className={styles.title}>{this.state.title}</div>\r\n                    <div dangerouslySetInnerHTML={{ __html: this.state.html_show }} />\r\n                </div>\r\n\r\n \r\n\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h_line\":\"src-compoent_d-ContentShow-ContentShow__h_line--hG5me\",\"v_line\":\"src-compoent_d-ContentShow-ContentShow__v_line--TgT40\",\"main\":\"src-compoent_d-ContentShow-ContentShow__main--_xV0v\",\"left_main\":\"src-compoent_d-ContentShow-ContentShow__left_main--3_dyE\",\"title_sy\":\"src-compoent_d-ContentShow-ContentShow__title_sy--267Me\",\"title_select\":\"src-compoent_d-ContentShow-ContentShow__title_select--3uG0o\",\"right_main\":\"src-compoent_d-ContentShow-ContentShow__right_main--2zUJf\",\"title\":\"src-compoent_d-ContentShow-ContentShow__title--17HR5\",\"image\":\"src-compoent_d-ContentShow-ContentShow__image--zX38z\"};","import ContentShow from \"@/compoent_d/ContentShow/ContentShow\";\r\nimport ServerNetWorkUtils from \"@/data_model/ServerNetWorkUtils\";\r\nimport React from \"react\";\r\n\r\n \r\n\r\n \r\nexport default class Tech extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <ContentShow type_id=\"514b01f381\" />\r\n        )\r\n    }\r\n}"],"sourceRoot":""}