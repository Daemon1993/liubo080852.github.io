{"version":3,"sources":["../node_modules/@zzwing/react-image/dist/index.esm.js"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","LoadingIcon","size","className","join","canUse","CanUseIntersecion","window","targets","Map","createObserver","container","opt","root","IntersectionObserver","excute","ins","getObserve","observer","unobserve","element","obs","delete","entries","forEach","each","target","intersectionRatio","isIntersecting","tar","get","cb","border","backgroundImage","backgroundRepeat","backgroundSize","boxSizing","width","height","backgroundPosition","ErrorIcon","props","Object","assign","documentElement","scrollBarWidth","getBodyOriginPaddingRight","parseInt","dom","body","name","getComputedStyle","setScrollbar","innerWidth","clientWidth","offsetWidth","paddingRight","find","list","arg","findIndex","DEAFULT_IMG_STATE","originX","originY","scale","rotate","left","top","ImgPreview","arguments","$el","$close","$img","createRef","$footer","imgState","state","images","current","open","changed","loaded","error","showList","exportPreview","l","c","idx","setState","show","windowKeyUpHandle","e","preventPrevNext","length","keyCode","hide","prev","next","hideHandle","initImage","addEffect","removeEffect","change","mouseDownHandle","stopPropagation","button","updateImageState","clientX","clientY","cursor","addEventListener","mouseMoveHandle","x","y","offsetX","offsetY","mouseUpHandle","removeEventListener","mouseWheelHandle","deltaY","toFixed","imgOnLoad","img","naturalWidth","naturalHeight","windowWidth","windowHeight","innerHeight","setTimeout","imgOnError","this","overflow","renderImgPosition","transform","display","transition","querySelector","hidePrevNext","Fragment","el","pointerEvents","onClick","currentImg","onMouseDown","onLoad","onError","src","alt","draggable","rotateFnc","bind","imgListStyle","map","key","ReactImage","preview","mask","id","onMouseUp","onWheel","_renderIcon","_renderImg","_renderFooter","PureComponent","newInstance","callback","div","render","component","destroy","unmountComponentAtNode","parentNode","removeChild","ins$1","getInstance","instance","Api","fun","PreviewApi","p","refDom","isError","isLoading","loadObserve","onDelete","onClickHandler","group","showPreviewList","querySelectorAll","Array","from","dataset","imgSrc","ret","objectFit","imgProps","observe","set","imgStyle","minHeight","defaultProps"],"mappings":"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","file":"static/js/3.b77fb621.chunk.js","sourcesContent":["import { createElement, PureComponent, createRef, Fragment } from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".mask-img{display:inline-block;font-size:0;position:relative;-ms-flex-negative:0;flex-shrink:0}.mask-img:hover .delete-img{opacity:1}.mask-img.mask:after{content:\\\"\\\";pointer-events:none;position:absolute;left:-2px;top:-2px;right:-2px;bottom:-2px;-webkit-transition:background .1s ease;transition:background .1s ease;background:transparent}.mask-img.mask:hover:after{background:rgba(0,0,0,.1)}.mask-img img{width:100%;height:100%}.mask-img .mask-loading{position:absolute;top:0;left:0;min-height:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:#f3f3f4;color:#a0a0a0;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.mask-img .delete-img{position:absolute;right:0;top:0;opacity:0;color:#f85b62;cursor:pointer;width:30px;height:32px;border-radius:0 0 0 999px;background:rgba(0,0,0,.6)}.mask-img .delete-img .react-image-icon{margin-left:10px;margin-top:1px}@-webkit-keyframes mask{0%{background-position:0 25px}to{background-position:0 -40px}}@keyframes mask{0%{background-position:0 25px}to{background-position:0 -40px}}\";\nstyleInject(css);\n\nvar css$1 = \".lds-ring{display:inline-block;position:relative;width:64px;height:64px}.lds-ring.sm{width:38px;height:38px}.lds-ring.sm div{width:32px;height:32px;border-width:4px;margin:3px}.lds-ring div{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:52px;height:52px;margin:6px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:6px solid transparent;border-top-color:#fff}.lds-ring div:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}\";\nstyleInject(css$1);\n\nfunction LoadingIcon ({ size = '' }) {\n    return (createElement(\"div\", { className: ['lds-ring', size].join(' ') },\n        createElement(\"div\", null),\n        createElement(\"div\", null),\n        createElement(\"div\", null),\n        createElement(\"div\", null)));\n}\n\n/**\n * @file\n * 调用InterseciontObserver, 监听图片是否出现在viewport中\n * 出现才进行加载\n * 如果浏览器不支持InterseciontObserver, 则不作操作\n */\nlet canUse = null;\nconst CanUseIntersecion = function () {\n    if (canUse !== null) {\n        return canUse;\n    }\n    canUse = 'IntersectionObserver' in window;\n    return canUse;\n};\n// const targets = []\nconst targets = new Map();\n/* eslint-disable */\nfunction createObserver(container) {\n    if (!CanUseIntersecion()) {\n        return null;\n    }\n    const opt = {};\n    if (container) {\n        opt.root = container;\n    }\n    return new IntersectionObserver(excute, opt);\n}\n// const ins = CanUseIntersecion ? new IntersectionObserver(excute) : null\nlet ins = null;\nfunction getObserve(observer) {\n    if (observer) {\n        return observer;\n    }\n    if (!ins) {\n        ins = createObserver();\n    }\n    return ins;\n}\n/* eslint-enable */\nfunction observe(element, cb, obs) {\n    if (!CanUseIntersecion()) {\n        return;\n    }\n    const observer = getObserve(obs);\n    observer.observe(element);\n    targets.set(element, {\n        cb,\n        observer\n    });\n}\nfunction unobserve(element, obs) {\n    if (!CanUseIntersecion()) {\n        return;\n    }\n    const observer = getObserve(obs);\n    targets.delete(element);\n    observer.unobserve(element);\n}\nfunction excute(entries) {\n    entries.forEach(each => {\n        const { target, intersectionRatio, isIntersecting } = each;\n        if (intersectionRatio > 0 || isIntersecting) {\n            const tar = targets.get(target);\n            if (tar) {\n                tar.cb(each);\n                unobserve(target, tar.observer);\n            }\n        }\n    });\n}\n\nvar SVG = \"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20standalone%3D%22no%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20t%3D%221534316460612%22%20class%3D%22icon%22%20style%3D%22%22%20viewBox%3D%220%200%201024%201024%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20p-id%3D%223851%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2232%22%20height%3D%2232%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpath%20d%3D%22M550.418397%20614.803815c8.349974-9.466548%208.349974-25.62159-1.110492-35.652505L417.856319%20439.341235l-36.40297-36.404186c-3.016451-3.016451-7.865883-2.905767-10.867738%200.126496a3.438511%203.438511%200%200%200-0.065681%200.066897L98.147777%20732.878414V213.182815c2.228282-15.037252%2013.92676-24.514747%2027.846222-24.514747h371.524603l60.159955-69.066999H89.237083c-33.430306%200-60.161171%2026.729649-60.16117%2061.271663v663.959804c0%2033.700327%2027.572552%2061.272879%2061.272878%2061.272879h207.765366l252.326133-291.319844-0.021893%200.018244z%20m90.236891-272.934089c0%2057.374602%2046.229545%20103.601715%20103.601715%20103.601716%2057.37217%200%20103.601715-46.229545%20103.601715-103.601716s-46.229545-103.601715-103.601715-103.601715c-57.37217%200-103.601715%2046.229545-103.601715%20103.601715z%22%20fill%3D%22%23D5D6D6%22%20p-id%3D%223852%22%3E%3C%2Fpath%3E%3Cpath%20d%3D%22M934.754403%20119.070757H733.121676c-2.014211%202.605338-58.491176%2069.071864-58.491176%2069.071865h222.802618c15.037252%200%2026.729649%208.989754%2027.846223%2024.03552l1.110491%20520.16023-215.55827-230.608901c-6.683629-7.798986-16.147744-12.800456-27.846222-12.800457-10.57704%200-18.373593%205.56219-27.846222%2011.693614l-9.466548%207.798985%2063.501161%2067.956508c9.466548%209.466548%209.466548%2024.51353%201.110491%2035.652505L456.286878%20903.900243h478.47239c33.429089%200%2060.159954-26.729649%2060.159954-61.271662V179.784133c0-33.977646-26.729649-60.719457-60.159954-60.719457l-0.004865%200.006081z%22%20fill%3D%22%23D5D6D6%22%20p-id%3D%223853%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E\";\n\nconst style = {\n    border: '1px dashed #dadada',\n    backgroundImage: `url(${SVG})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: '65% 65%',\n    boxSizing: 'border-box',\n    width: '100%',\n    height: '100%',\n    backgroundPosition: 'center'\n};\nfunction ErrorIcon (props) {\n    return (createElement(\"div\", { style: Object.assign({}, style, props.style) }));\n}\n\nconst { documentElement } = document;\nlet scrollBarWidth = 0;\nfunction getScrollbarSize() {\n    if (scrollBarWidth) {\n        return scrollBarWidth;\n    }\n    scrollBarWidth = window.innerWidth - documentElement.clientWidth;\n    return scrollBarWidth;\n}\nfunction getDomStyle(dom, name) {\n    return window.getComputedStyle(dom)[name];\n}\nfunction getBodyOriginPaddingRight() {\n    return parseInt(getDomStyle(document.body, 'paddingRight'), 10);\n}\nfunction setScrollbar() {\n    const { innerWidth } = window;\n    const { clientWidth, offsetWidth } = documentElement;\n    if (clientWidth < innerWidth && innerWidth > offsetWidth) {\n        document.body.style.paddingRight = `${getScrollbarSize()\n            + getBodyOriginPaddingRight()}px`;\n    }\n}\nfunction resetScrollbar() {\n    document.body.style.paddingRight = '';\n}\n\nfunction find(list, arg) {\n    return list.findIndex(each => each === arg);\n}\nconst DEAFULT_IMG_STATE = {\n    originX: 0,\n    originY: 0,\n    scale: 0,\n    rotate: 0,\n    left: 0,\n    top: 0\n};\nlet observer = null;\nclass ImgPreview extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.$el = null;\n        this.$close = null;\n        this.$img = createRef();\n        this.$footer = null;\n        this.imgState = Object.assign({}, DEAFULT_IMG_STATE);\n        this.state = {\n            images: [],\n            current: 0,\n            open: false,\n            changed: false,\n            loaded: false,\n            error: false,\n            showList: true\n        };\n        /**\n         * container actions\n         */\n        /**\n         * 设置当前图片\n         * 如果图片是Number类型, 则直接设置current\n         * 如果图片为对象, 则遍历images找出索引\n         * 如果不存在图片, 则将图片作为images\n         * @param {Number|Object}} current\n         * @param {Array} list 图片数组\n         */\n        this.exportPreview = (current, list, showList = true) => {\n            let l = this.state.images;\n            let c = current;\n            if (list) {\n                l = list;\n            }\n            // 如果为number型则直接设置\n            if (typeof c !== 'number') {\n                // 否则调用find方法找下标\n                // 如果不存在则设为images\n                const idx = find(l, c);\n                if (idx === -1) {\n                    l = [c];\n                    c = 0;\n                }\n                else {\n                    c = idx;\n                }\n            }\n            this.setState({\n                current: c,\n                images: l,\n                showList\n            });\n            this.show();\n        };\n        /**\n         * window的按钮监听\n         * 监听Esc按钮, 触发隐藏\n         * @event\n         * @memberof ImgPreview\n         */\n        this.windowKeyUpHandle = (e) => {\n            // e.stopPropagation()\n            // e.preventDefault()\n            const { images } = this.state;\n            const preventPrevNext = images && images.length <= 1;\n            const { keyCode } = e;\n            if (keyCode === 27) {\n                this.hide();\n            }\n            else if (keyCode === 37) {\n                if (preventPrevNext)\n                    return;\n                this.prev();\n            }\n            else if (keyCode === 39) {\n                if (preventPrevNext)\n                    return;\n                this.next();\n            }\n        };\n        /**\n         * 隐藏图片浏览器\n         * 只有在点击关闭按钮或者浏览器外的地方才触发\n         * @event\n         * @memberof ImgPreview\n         */\n        this.hideHandle = (e) => {\n            const { target } = e;\n            if (target === this.$close ||\n                target === this.$el ||\n                target === this.$footer) {\n                this.hide();\n            }\n        };\n        /**\n         * 打开图片浏览器\n         * 绑定keyup与click事件监听关闭\n         */\n        this.show = () => {\n            this.initImage();\n            this.setState({\n                open: true\n            });\n            this.addEffect();\n        };\n        /**\n         * 隐藏图片浏览器\n         * 卸载事件监听器\n         */\n        this.hide = () => {\n            this.setState({\n                open: false\n            });\n            this.removeEffect();\n        };\n        this.change = (current) => {\n            this.initImage();\n            this.setState({\n                current\n            });\n        };\n        this.next = () => {\n            const { current, images } = this.state;\n            this.change((current + 1) % images.length);\n        };\n        this.prev = () => {\n            const { current, images } = this.state;\n            this.change((current - 1 + images.length) % images.length);\n        };\n        /**\n         * 监听鼠标按下,触发绑定mousemove\n         * @event\n         */\n        this.mouseDownHandle = (e) => {\n            e.stopPropagation();\n            if (e.button !== 0) {\n                return;\n            }\n            const container = this.$el;\n            this.updateImageState({\n                originX: e.clientX,\n                originY: e.clientY\n            });\n            container.style.cursor = 'move';\n            container.addEventListener('mousemove', this.mouseMoveHandle, false);\n        };\n        /**\n         * 鼠标移动事件, 拖曳图片\n         * @event\n         */\n        this.mouseMoveHandle = (e) => {\n            const { left, top, originX, originY } = this.imgState;\n            const x = e.clientX, y = e.clientY, offsetX = x - originX, offsetY = y - originY;\n            this.updateImageState({\n                originX: x,\n                originY: y,\n                left: left + offsetX,\n                top: top + offsetY\n            });\n        };\n        /**\n         * 鼠标松开事件\n         * 解除mousemove事件监听\n         * @event\n         */\n        this.mouseUpHandle = () => {\n            this.$el.removeEventListener('mousemove', this.mouseMoveHandle);\n            this.$el.style.cursor = 'initial';\n        };\n        /**\n         * 滚轮事件,图片放大缩小\n         * @event\n         */\n        this.mouseWheelHandle = (e) => {\n            // 放大缩小功能\n            // const delta = e.wheelDelta ? e.wheelDelta : -(e.detail || 0)\n            let { scale } = this.imgState;\n            if (-e.deltaY < 0) {\n                // 放大\n                scale *= 1.1;\n            }\n            else {\n                // 缩小\n                scale *= 0.9;\n            }\n            this.updateImageState({\n                scale: +scale.toFixed(2)\n            });\n        };\n        /**\n         * 监听图片的onLoad事件\n         * 设置初始的宽高\n         *\n         * @memberof ImgPreview\n         */\n        this.imgOnLoad = e => {\n            const img = e.target;\n            const width = img.naturalWidth;\n            const height = img.naturalHeight;\n            let scale = 1;\n            const windowWidth = (window.innerWidth * 3) / 4;\n            const windowHeight = (window.innerHeight * 3) / 4;\n            if (width > windowWidth) {\n                scale = windowWidth / width;\n            }\n            if (height > windowHeight) {\n                scale = (scale * windowHeight) / height;\n            }\n            this.setState({\n                loaded: true,\n                error: false\n            }, () => {\n                setTimeout(() => {\n                    this.updateImageState({\n                        scale\n                    });\n                }, 25);\n            });\n        };\n        this.imgOnError = () => {\n            this.setState({\n                loaded: true,\n                error: true\n            });\n        };\n    }\n    addEffect() {\n        setScrollbar();\n        document.addEventListener('keyup', this.windowKeyUpHandle);\n        // document.body.addEventListener('click', this.hideHandle)\n        document.body.style.overflow = 'hidden';\n    }\n    removeEffect() {\n        resetScrollbar();\n        document.removeEventListener('keyup', this.windowKeyUpHandle);\n        // document.body.removeEventListener('click', this.hideHandle)\n        document.body.style.overflow = '';\n    }\n    /**\n     * *******************************\n     * Image actions\n     * *******************************\n     */\n    updateImageState(arg) {\n        Object.assign(this.imgState, arg);\n        this.renderImgPosition();\n    }\n    renderImgPosition() {\n        const { current } = this.$img;\n        const { left, top, scale, rotate } = this.imgState;\n        if (!current)\n            return;\n        current.style.transform = `translate3d(${left}px, ${top}px, 0px) rotate(${rotate}deg) scale(${scale})`;\n    }\n    /**\n     * 初始化图片的position以及transform属性\n     *\n     * @memberof ImgPreview\n     */\n    initImage() {\n        this.updateImageState(Object.assign({}, DEAFULT_IMG_STATE));\n        this.setState({\n            changed: false,\n            loaded: false\n        }, () => {\n            this.setState({\n                changed: true\n            });\n        });\n    }\n    /**\n     * 旋转事件\n     * @param {number} arg 旋转的度数\n     * @event\n     */\n    rotateFnc(arg) {\n        const { rotate } = this.imgState;\n        this.updateImageState({\n            rotate: rotate + arg\n        });\n    }\n    /**\n     * @getter\n     * 返回当前索引的图片\n     *\n     * @readonly\n     */\n    get currentImg() {\n        const { current, images } = this.state;\n        return images[current];\n    }\n    get imgListStyle() {\n        return {\n            display: 'flex',\n            transform: `translate3d(-${this.state.current * 50}px, 0, 0)`,\n            transition: 'transform .3s linear'\n        };\n    }\n    componentDidMount() {\n        if (!observer) {\n            observer = createObserver(document.querySelector('.img-viewer-list'));\n        }\n    }\n    _renderIcon() {\n        const { images } = this.state;\n        const hidePrevNext = images.length <= 1;\n        return (createElement(Fragment, null,\n            createElement(\"div\", { className: 'img-viewer-close', ref: el => {\n                    this.$close = el;\n                } },\n                createElement(\"i\", { className: 'react-image-icon', style: { pointerEvents: 'none' } }, \"\\uE904\")),\n            hidePrevNext ? null : (createElement(Fragment, null,\n                createElement(\"i\", { className: 'img-viewer-prev react-image-icon', onClick: this.prev }, \"\\uE914\"),\n                createElement(\"i\", { className: 'img-viewer-next react-image-icon', onClick: this.next }, \"\\uE914\")))));\n    }\n    _renderImg() {\n        const { state, currentImg, mouseDownHandle, imgOnLoad, imgOnError } = this;\n        return (createElement(Fragment, null,\n            createElement(\"img\", { ref: this.$img, className: [\n                    'img-viewer-current',\n                    state.loaded && !state.error ? '' : 'dis-none'\n                ].join(' '), onMouseDown: mouseDownHandle, onLoad: imgOnLoad, onError: imgOnError, src: state.changed ? currentImg : '', alt: '', draggable: false }),\n            !state.loaded && (createElement(\"div\", { className: 'img-viewer-status' },\n                createElement(LoadingIcon, null))),\n            state.error && (createElement(\"div\", { className: 'img-viewer-status' },\n                createElement(ErrorIcon, { style: { width: '300px', height: '300px' } })))));\n    }\n    _renderFooter() {\n        const { state, prev, next, rotateFnc } = this;\n        const { images, current } = state;\n        const hidePrevNext = images.length <= 1;\n        return (createElement(Fragment, null,\n            createElement(\"div\", { className: 'img-viewer-footer', ref: ref => {\n                    this.$footer = ref;\n                } },\n                createElement(\"div\", { className: 'img-viewer-ctrl' },\n                    hidePrevNext ? null : (createElement(\"i\", { className: 'react-image-icon', onClick: prev, style: { transform: 'rotateY(180deg)' } }, \"\\uE914\")),\n                    createElement(\"i\", { className: 'react-image-icon img-viewer-rotate', onClick: rotateFnc.bind(this, 90) }, \"\\uE91A\"),\n                    createElement(\"i\", { className: 'react-image-icon img-viewer-rotate', onClick: rotateFnc.bind(this, -90), style: { transform: 'rotateY(180deg)' } }, \"\\uE91A\"),\n                    hidePrevNext ? null : (createElement(\"i\", { className: 'react-image-icon', onClick: next }, \"\\uE914\"))),\n                createElement(\"div\", { className: 'img-viewer-list' }, this.state.showList && (createElement(\"div\", { className: 'img-viewer-list-inner' },\n                    createElement(\"div\", { style: this.imgListStyle }, images.map((src, idx) => (createElement(\"div\", { onClick: () => this.change(idx), key: idx, className: [\n                            'img-viewer-list-item',\n                            current === idx ? 'active' : ''\n                        ].join(' ') },\n                        createElement(ReactImage, { observer: observer, width: '50', height: '50', preview: false, mask: false, src: src })))))))))));\n    }\n    render() {\n        const { state, mouseUpHandle, mouseWheelHandle } = this;\n        return (createElement(\"div\", { id: 'imgPreview', ref: el => {\n                this.$el = el;\n            }, onClick: this.hideHandle, className: 'img-viewer-container', style: { display: state.open ? 'flex' : 'none' }, onMouseUp: mouseUpHandle, onWheel: mouseWheelHandle, draggable: false },\n            this._renderIcon(),\n            this._renderImg(),\n            this._renderFooter()));\n    }\n}\nImgPreview.newInstance = function newPreviewInstance(callback) {\n    const div = document.createElement('div');\n    function ref(ins) {\n        callback({\n            preview(...arg) {\n                ins.exportPreview(...arg);\n            },\n            show() {\n                ins.show();\n            },\n            hide() {\n                ins.hide();\n            },\n            component: ins,\n            destroy() {\n                unmountComponentAtNode(div);\n                div.parentNode.removeChild(div);\n            }\n        });\n    }\n    document.body.appendChild(div);\n    render(createElement(ImgPreview, { ref: ref }), div);\n};\n\nvar css$2 = \".img-viewer-container{position:fixed;left:0;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,.5);height:100%;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:999}.img-viewer-container .react-image-icon{color:#e3e3e9;cursor:pointer}.img-viewer-container .react-image-icon:hover{color:#6a82ec}.img-viewer-container>.react-image-icon{font-size:56px;position:absolute;z-index:2;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.img-viewer-container>.react-image-icon.img-viewer-prev{left:10%;-webkit-transform:rotateY(180deg) translateY(-50%);transform:rotateY(180deg) translateY(-50%)}.img-viewer-container>.react-image-icon.img-viewer-next{right:10%}.img-viewer-current{position:relative;-webkit-animation:preview-ani .3s ease-in-out;animation:preview-ani .3s ease-in-out}@-webkit-keyframes preview-ani{0%{opacity:.3}to{opacity:1}}@keyframes preview-ani{0%{opacity:.3}to{opacity:1}}.img-viewer-status{position:absolute;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.img-viewer-close{position:fixed;right:16px;top:16px;color:#fff;cursor:pointer;z-index:9}.img-viewer-close:hover .react-image-icon{color:#f85b62}.img-viewer-close .react-image-icon{font-size:36px}.img-viewer-footer{position:fixed;bottom:0;z-index:2;width:100%;min-height:90px}.img-viewer-ctrl{width:200px;background:#a0a0a0;-ms-flex-pack:distribute;justify-content:space-around;line-height:30px;margin:10px auto 0;-ms-flex-negative:0;flex-shrink:0}.img-viewer-ctrl,.img-viewer-list{display:-webkit-box;display:-ms-flexbox;display:flex}.img-viewer-list{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:auto;background:rgba(0,0,0,.7);overflow:hidden}.img-viewer-list .img-viewer-list-item{opacity:.5;font-size:0}.img-viewer-list .img-viewer-list-item.active,.img-viewer-list .img-viewer-list-item:hover{opacity:1}.img-viewer-list-inner{white-space:nowrap;-webkit-transform:translate3d(50%,0,0);transform:translate3d(50%,0,0)}\";\nstyleInject(css$2);\n\nlet ins$1 = null;\n/**\n * 获取ImgPreview实例\n *\n * @param {Function} callback 回调\n */\nfunction getInstance(callback) {\n    if (ins$1) {\n        callback(ins$1);\n        return;\n    }\n    ImgPreview.newInstance((instance) => {\n        ins$1 = instance;\n        callback(instance);\n    });\n}\n/**\n * 高阶函数\n * 绑定ins相应的方法并返回\n * @param {String} fun 方法名\n * @returns Function\n */\nfunction exec(fun) {\n    return function (...arg) {\n        getInstance(instance => {\n            instance[fun](...arg);\n        });\n    };\n}\nconst Api = {\n    preview: null,\n    show: null,\n    hide: null,\n    destroy() {\n        if (ins$1) {\n            ins$1.destroy();\n            ins$1 = null;\n        }\n    }\n};\nconst func = ['preview', 'show', 'hide'];\nfunc.forEach(each => {\n    Api[each] = exec(each);\n});\nconst PreviewApi = Api;\n\nclass ReactImage extends PureComponent {\n    constructor(p) {\n        super(p);\n        this.refDom = null;\n        this.state = {\n            isError: false,\n            isLoading: true,\n            loadObserve: !CanUseIntersecion() // IntersecintObserver, 监听图片是否出现在viewport\n        };\n        this.onError = () => {\n            const { onError, src } = this.props;\n            this.setState({\n                isLoading: false,\n                isError: true\n            });\n            onError && onError(src);\n        };\n        this.onLoad = () => {\n            const { onLoad, src } = this.props;\n            this.setState({\n                isLoading: false,\n                isError: false\n            });\n            onLoad && onLoad(src);\n        };\n        this.onDelete = () => {\n            this.props.onDelete(this.props.src);\n        };\n        this.onClickHandler = () => {\n            const { isLoading, isError } = this.state;\n            const { src, group, preview, onClick, showPreviewList } = this.props;\n            if (preview && src && !isLoading && !isError) {\n                const dom = document.querySelectorAll(`.mask-img[data-img-group=\"${group}\"]`);\n                const list = Array.from(dom).map(each => each.dataset.imgSrc);\n                PreviewApi.preview(src, list, showPreviewList);\n            }\n            onClick && onClick(src);\n        };\n        this.refDom = createRef();\n    }\n    get style() {\n        const { height, width } = this.props;\n        return Object.assign({ width: width + 'px', height: height ? height + 'px' : 'initial' }, this.props.style);\n    }\n    get imgStyle() {\n        const { isLoading, isError } = this.state;\n        const ret = {\n            objectFit: this.props.objectFit\n        };\n        const { imgProps } = this.props;\n        if (imgProps && imgProps.style) {\n            Object.assign(ret, imgProps.style);\n        }\n        Object.assign(ret, {\n            display: isLoading || isError ? 'none' : ''\n        });\n        return ret;\n    }\n    componentDidMount() {\n        // pushToGroup(this.props.group, this.props.src)\n        observe(this.refDom.current, () => {\n            this.setState({\n                loadObserve: true\n            });\n        }, this.props.observer);\n    }\n    componentWillUnmount() {\n        if (!this.state.loadObserve) {\n            unobserve(this.refDom.current, this.props.observer);\n        }\n    }\n    render() {\n        // const { width, height } = this.props\n        const { group, imgProps, onDelete, src, height, preview, className, mask } = this.props;\n        const { isLoading, loadObserve, isError } = this.state;\n        return (createElement(\"span\", { className: ['mask-img', mask ? 'mask' : '', className].join(' '), \"data-img-group\": preview ? group : null, \"data-img-src\": preview ? src : null, style: this.style, ref: this.refDom },\n            onDelete ? (createElement(\"span\", { className: 'delete-img' },\n                createElement(\"i\", { className: 'react-image-icon', style: { display: 'inline-block' }, onClick: this.onDelete }, \"\\uE904\"))) : null,\n            loadObserve && (createElement(\"img\", Object.assign({}, imgProps, { src: src, onError: this.onError, onLoad: this.onLoad, onClick: this.onClickHandler, style: this.imgStyle }))),\n            isLoading && (createElement(\"div\", { className: 'mask-loading', style: { minHeight: `${height || 100}px` } },\n                createElement(LoadingIcon, { size: 'sm' }))),\n            isError && createElement(ErrorIcon, { style: { width: '100%', height: '100%' } })));\n    }\n}\nReactImage.defaultProps = {\n    width: 100,\n    group: 'default',\n    objectFit: 'cover',\n    preview: true,\n    mask: true,\n    showPreviewList: true\n};\n\nvar css$3 = \"@font-face{font-family:react-image-icon;src:url(\\\"data:font/woff;base64,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\\\") format(\\\"woff\\\");font-weight:400;font-style:normal}.react-image-icon{font-family:react-image-icon;font-size:16px;font-style:normal}\";\nstyleInject(css$3);\n\nexport { ReactImage as Image, ImgPreview as Preview, PreviewApi, createObserver };\n"],"sourceRoot":""}