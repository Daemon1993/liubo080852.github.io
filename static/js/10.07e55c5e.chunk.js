(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[10,13],{122:function(e,t){},125:function(e,t,n){e.exports={main:"src-features-task_manage-type_manage-typemanage__main--1lxQP",add_type:"src-features-task_manage-type_manage-typemanage__add_type--ImcSm",content:"src-features-task_manage-type_manage-typemanage__content--3EK0b"}},302:function(e,t,n){"use strict";n.r(t);var a=n(10),c=n(11),i=n(16),s=n(15),o=n(89),r=n(0),u=n.n(r),d=n(126),l=n(620),h=n(630),p=n(629),f=n(633),g=n(636),y=(n(110),n(125)),_=n.n(y),m=n(21),j=n(30),b=n(2),O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(a.a)(this,n),(c=t.call(this,e)).getTypesData=function(){o.a.getTypesData().then((function(e){console.log(e),c.setState({types:e}),c.props.dispatch(Object(j.b)(e))})).catch((function(e){console.log(e)}))},c.dir_inputChange=function(e){c.setState({dir_name:e.target.value})},c.handleOk=function(){console.log("dir_name "+c.state.dir_name),o.a.addTypeDir(c.state.dir_name).then((function(e){console.log(e),e.objectId&&c.getTypesData()})),c.setState({add_dialog_show:!1})},c.handleCancel=function(){c.setState({add_dialog_show:!1})},c.add_type=function(){c.setState({add_dialog_show:!0})},c.state={types:[],add_dialog_show:!1,dir_name:""},c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log("-----TypeManage-componentDidMount-----"),this.getTypesData()}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:_.a.main,children:[Object(b.jsxs)("div",{className:_.a.add_type,children:[Object(b.jsx)(d.a,{onClick:this.add_type,shape:"round",children:"\u6dfb\u52a0\u76ee\u5f55"}),Object(b.jsx)(d.a,{shape:"round",children:"\u7f16\u8f91\u76ee\u5f55"})]}),this.state.types.length>0?Object(b.jsx)(v,{datas:this.state.types}):Object(b.jsx)(l.a,{}),Object(b.jsx)(h.a,{title:"\u6dfb\u52a0\u76ee\u5f55-\u8f93\u5165\u76ee\u5f55\u540d",visible:this.state.add_dialog_show,onOk:this.handleOk,onCancel:this.handleCancel,children:Object(b.jsx)(p.a,{size:"large",placeholder:"\u76ee\u5f55\u540d",value:this.state.dir_name,onChange:this.dir_inputChange})})]})}}]),n}(u.a.Component);function v(e){return Object(b.jsx)("div",{className:_.a.content,children:Object(b.jsx)(f.a,{gutter:16,children:e.datas.map((function(e){return Object(b.jsx)(g.a,{children:Object(b.jsx)(d.a,{children:e.name})},e.objectId)}))})})}var k=Object(m.b)()(O);t.default=k},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(10),c=n(11),i=n(105),s=n.n(i),o=n(101),r=n.n(o),u="Types",d=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,null,[{key:"initBmob",value:function(){console.log("---initBmob");var e=r.a.enc.Base64.parse("NDUxOTkzMTkzNw==").toString(r.a.enc.Utf8);e=e.substring(2,e.length-2),s.a.initialize("c5bfe65ab37d31cd",e)}},{key:"pushArticle",value:function(e){return new Promise((function(t,n){var a=s.a.Query("Article");a.set("title",e.title),a.set("content",e.content),a.set("type_id",e.type_id),a.set("tags",e.tags),a.save().then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"addTypeDir",value:function(e){return new Promise((function(t,n){var a=s.a.Query(u);a.set("name",e),a.save().then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"getTypesData",value:function(){return new Promise((function(e,t){s.a.Query(u).find().then((function(t){e(t)})).catch((function(e){t(e)}))}))}}]),e}()}}]);
//# sourceMappingURL=10.07e55c5e.chunk.js.map