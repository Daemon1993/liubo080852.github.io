{"version":3,"sources":["features/home/Home.scss","features/task_manage/login/login_reducer.js","index.css","App.css","features/home/Home.js","routerMap.js","features/task_manage/action.js","features/task_manage/manage_reducer.js","features/store.js","BaseUtils.js","FrontendAuth.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","TAG_LoginUser","initStatus","login_user","login","actionLoginUser","user","type","login_reducer","status","action","console","log","localStorage","setItem","JSON","stringify","Home","go2Home","props","history","replace","className","styles","home_main","onClick","this","home_tabs","to","home_tab","React","Component","HomeConnect","connect","ManageHome","loadable","routes","path","name","component","auth","TYPE_Test","manage_reducer","text","store","combineReducers","store1","createStore","composeWithDevTools","BaseUtils","obj","Object","prototype","isPrototypeOf","keys","length","a","Array","FrontendAuth","location","pathname","targetRouter","routerMap","find","item","isLogin","getState","isEmpty","state_data","exact","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51d057cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home_main\":\"src-features-home-Home__home_main--2qfVr\",\"home_tabs\":\"src-features-home-Home__home_tabs--2GUt6\",\"home_tab\":\"src-features-home-Home__home_tab--2uYvW\"};","\r\nexport const TAG_LoginUser=\"tag_login_user\";\r\n\r\nconst initStatus = { login_user: {login:false} }\r\nconst login_reducer = (status = initStatus, action) => {\r\n    console.log(\"login_reducer Action \" + action.type)\r\n    switch (action.type) {\r\n        case \"login\":\r\n            localStorage.setItem(TAG_LoginUser,JSON.stringify(action.user));\r\n            return { ...status, login_user: action.user}\r\n        default:\r\n            return status\r\n    }\r\n\r\n}\r\n\r\nexport function actionLoginUser(user) {\r\n    return {\r\n        type: \"login\",\r\n        user: user\r\n    }\r\n}\r\n\r\nexport default login_reducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"src-index__root--3X0Ao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"src-App__App--2vBGD\",\"App-logo\":\"src-App__App-logo--1QCSV\",\"App-logo-spin\":\"src-App__App-logo-spin--2DHc5\",\"App-header\":\"src-App__App-header--3YIJI\",\"App-link\":\"src-App__App-link--2bp87\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { actionLoginUser, TAG_LoginUser } from \"../task_manage/login/login_reducer\";\r\n\r\n// import './Home.s';\r\nimport styles from './Home.scss'\r\n\r\n\r\n class Home extends React.Component {\r\n\r\n    componentDidMount() {\r\n        console.log(\"componentDidMount\")\r\n        // //监听获取 user 设置 store\r\n        // window.addEventListener(\"storage\", e => {\r\n        //     console.log(e)\r\n        //     if (e.key === 'tag_login_user') {\r\n        //         let res = JSON.parse(e.newValue);\r\n        //         console.log(res)\r\n        //         let user = {\r\n        //             ...res,\r\n        //             login: 1\r\n        //         }\r\n        //         console.log(user)\r\n        //         this.props.dispatch(actionLoginUser(user))\r\n        //         //当前 login_reducer 设置值 之后 清除localstorage\r\n        //         localStorage.removeItem(TAG_LoginUser)\r\n        //     }\r\n        // });\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={styles.home_main}>\r\n                <h1 onClick={this.go2Home}>Home</h1>\r\n\r\n                <div className={styles.home_tabs}>\r\n                    <Link to=\"/tech\" className={styles.home_tab}>技术文章</Link>\r\n                    <Link to=\"/self_u\" className={styles.home_tab}>个人分享</Link>\r\n                    <Link to=\"/manage\"  className={styles.home_tab}>管理后台</Link>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    go2Home = () => {\r\n        // console.log(this.props.history)\r\n        this.props.history.replace(\"/\");\r\n    }\r\n}\r\n\r\nconst HomeConnect=connect()(Home)\r\nexport default HomeConnect","\r\nimport Home from \"./features/home/Home\"\r\n \r\nimport loadable from '@loadable/component';\r\n\r\nconst ManageHome = loadable(() => import('./features/task_manage/ManageHome'))\r\nconst SelfU = loadable(() => import('./features/self_share/SelfU'))\r\nconst Tech = loadable(() => import('./features/task_tech/Tech'))\r\nconst Login = loadable(() => import('./features/task_manage/login/Login'))\r\nconst Page404 = loadable(() => import('./features/404/Page404'))\r\n\r\n\r\nconst routes=[\r\n    {path:\"/self_u\",name:\"SelfU\",component:SelfU},\r\n    {path:\"/tech\",name:\"Tech\",component:Tech},\r\n    {path:\"/login\",name:\"Login\",component:Login},\r\n    {path:\"/manage\",name:\"manageHome\",component:ManageHome ,auth:true},\r\n    {path:\"/\",name:\"App\",component:Home},\r\n    {path:\"/404\",name:\"404\",component:Page404},\r\n]\r\n\r\nexport default routes","\r\n\r\n\r\nexport const TYPE_Test = 'type_test'\r\n\r\n\r\n/**\r\n * \r\n * @param {testAction} text \r\n * @returns \r\n */\r\nexport const actionTest = text => {\r\n    return {\r\n        type: TYPE_Test,\r\n        text\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { TYPE_Test } from \"./action\"\r\n\r\n\r\n\r\nconst initStatus = { }\r\nconst manage_reducer = (status = initStatus, action) => {\r\n    console.log(\"test Action \"+action.type)\r\n    switch (action.type) {\r\n        case TYPE_Test:\r\n            return { ...status, text: action.text }\r\n        default:\r\n            return status\r\n    }\r\n\r\n}\r\n\r\n \r\nexport default manage_reducer\r\n\r\n","import { combineReducers } from \"redux\";\r\nimport manage_reducer from \"./task_manage/manage_reducer\";\r\n\r\nimport login_reducer from './task_manage/login/login_reducer'\r\n\r\n\r\nimport { createStore } from 'redux';\r\n \r\n\r\n// 安装redux-devtools-extension的可视化工具。\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\n\r\n\r\nconst store=combineReducers({\r\n    manage_reducer,login_reducer\r\n})\r\n \r\nconst store1 = createStore(store,composeWithDevTools())\r\n\r\n \r\n\r\nexport default store1\r\n ","\r\n\r\nexport default class BaseUtils {\r\n\r\n    /**\r\n     * 判断对象是否是空对象\r\n     * @param {*} obj \r\n     * @returns \r\n     */\r\n    static checkNullObj(obj) {\r\n        return Object.prototype.isPrototypeOf(obj) && Object.keys(obj).length === 0\r\n    }\r\n\r\n    /**\r\n     * 统一判断空\r\n     * @param {*} a \r\n     * @returns \r\n     */\r\n     static isEmpty(a){\r\n        if (a === \"\") return true; //检验空字符串\r\n        if (!a) return true; // null           \r\n        if (Array.prototype.isPrototypeOf(a) && a.length === 0 ) return true; //检验空数组\r\n        if (Object.prototype.isPrototypeOf(a) && Object.keys(a).length === 0 ) return true;  //检验空对象\r\n        return false;\r\n    }\r\n}","import React from \"react\"\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nimport routerMap from \"./routerMap\";\r\n\r\nimport store from './features/store';\r\nimport BaseUtils from \"./BaseUtils\";\r\n\r\n\r\nexport default class FrontendAuth extends React.Component {\r\n\r\n    render() {\r\n\r\n\r\n        const path = this.props.location.pathname;\r\n\r\n        console.log(\"path \" + path)\r\n        const targetRouter = routerMap.find(item => {\r\n            return item.path === path\r\n        })\r\n\r\n        if (!targetRouter) {\r\n            return <Redirect to=\"404\" />\r\n        }\r\n\r\n        let isLogin = false;\r\n        let user = store.getState().login_reducer.login_user;\r\n        console.log(user)\r\n        if(!BaseUtils.isEmpty(user)){\r\n            isLogin = user.login == 1;\r\n        }\r\n\r\n        console.log(\"islogin \" + isLogin)\r\n\r\n        if (isLogin) {\r\n            if (path === \"/login\") {\r\n                return <Redirect to=\"/login\" />\r\n            }\r\n        } else {\r\n            //未登录的情况\r\n            if (targetRouter.auth) {\r\n                console.log(\"需要登录\")\r\n                let state_data={\r\n                    pathname:\"/login\",\r\n                    user:user\r\n                }\r\n                return <Redirect exact to={state_data} />\r\n            }\r\n        }\r\n\r\n\r\n        return (<Route exact path={path} component={targetRouter.component} />);\r\n\r\n    }\r\n}"," \nimport './App.css';\nimport { HashRouter as Router, Switch } from 'react-router-dom';\n \n\nimport FrontendAuth from './FrontendAuth';\n\n\nfunction App() {\n  return (\n    <Router>\n\n      <Switch>\n\n        <FrontendAuth />\n\n      </Switch>\n\n    </Router >\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport  './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n \nimport store from './features/store';\nimport { Provider } from 'react-redux';\n\n \nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}