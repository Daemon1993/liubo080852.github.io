{"version":3,"sources":["features/task_manage/type_manage/typemanage.scss","features/task_manage/type_manage/TypeManage.js"],"names":["module","exports","TypeManage","props","getTypesData","ServerNetWorkUtils","then","res","setState","types","dispatch","actionTypeDirs","catch","error","dir_inputChange","evt","dir_name","target","value","handleOk","addTypeDir","state","objectId","add_dialog_show","handleCancel","add_type","this","className","styles","main","onClick","shape","length","DataShow","datas","title","visible","onOk","onCancel","size","placeholder","onChange","React","Component","content","gutter","map","data","name","TypeManageConnect","connect"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,KAAO,+DAA+D,SAAW,mEAAmE,QAAU,oE,2MCQ1KC,E,kDAEF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAQVC,aAAe,WACXC,IAAmBD,eAAeE,MAAK,SAAAC,GAEnC,EAAKC,SAAS,CACVC,MAAOF,IAEX,EAAKJ,MAAMO,SAASC,YAAeJ,OACpCK,OAAM,SAAAC,QAhBM,EA8CnBC,gBAAkB,SAACC,GACf,EAAKP,SAAS,CACVQ,SAAUD,EAAIE,OAAOC,SAhDV,EAqDnBC,SAAW,WAIPd,IAAmBe,WAAW,EAAKC,MAAML,UACpCV,MAAK,SAAAC,GAEEA,EAAIe,UACJ,EAAKlB,kBAIjB,EAAKI,SAAS,CACVe,iBAAiB,KAlEN,EAsEnBC,aAAe,WACX,EAAKhB,SAAS,CACVe,iBAAiB,KAxEN,EA2EnBE,SAAW,WACP,EAAKjB,SAAS,CACVe,iBAAiB,KA3ErB,EAAKF,MAAQ,CACTZ,MAAO,GACPc,iBAAiB,EACjBP,SAAU,IALC,E,qDAoBnB,WAEIU,KAAKtB,iB,oBAET,WACI,OACI,sBAAKuB,UAAWC,IAAOC,KAAvB,UACI,sBAAKF,UAAWC,IAAOH,SAAvB,UACI,cAAC,IAAD,CAAQK,QAASJ,KAAKD,SAAUM,MAAM,QAAtC,sCACA,cAAC,IAAD,CAAQA,MAAM,QAAd,yCAEHL,KAAKL,MAAMZ,MAAMuB,OAAS,EACvB,cAACC,EAAD,CAAUC,MAAOR,KAAKL,MAAMZ,QAC1B,cAAC,IAAD,IAEN,cAAC,IAAD,CAAO0B,MAAM,0DAAaC,QAASV,KAAKL,MAAME,gBAC1Cc,KAAMX,KAAKP,SACXmB,SAAUZ,KAAKF,aAFnB,SAII,cAAC,IAAD,CAAOe,KAAK,QAAQC,YAAY,qBAAMtB,MAAOQ,KAAKL,MAAML,SAAUyB,SAAUf,KAAKZ,2B,GAzC5E4B,IAAMC,WAqF/B,SAASV,EAAS9B,GAEd,OACI,qBAAKwB,UAAWC,IAAOgB,QAAvB,SACI,cAAC,IAAD,CAAKC,OAAQ,GAAb,SAEQ1C,EAAM+B,MAAMY,KAAI,SAAAC,GACZ,OACI,cAAC,IAAD,UAEI,cAAC,IAAD,UAASA,EAAKC,QAFRD,EAAKzB,iBAa3C,IAAM2B,EAAmBC,cAAUhD,GACpB+C","file":"static/js/5.798cd72d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"src-features-task_manage-type_manage-typemanage__main--1lxQP\",\"add_type\":\"src-features-task_manage-type_manage-typemanage__add_type--ImcSm\",\"content\":\"src-features-task_manage-type_manage-typemanage__content--3EK0b\"};","import ServerNetWorkUtils from \"@/data_model/ServerNetWorkUtils\";\r\nimport React from \"react\";\r\nimport { Button, Card, Col, Empty, Input, List, Modal, Row } from 'antd';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport styles from './typemanage.scss';\r\nimport { connect } from \"react-redux\";\r\nimport { actionTypeDirs } from \"../login/login_reducer\";\r\n\r\nclass TypeManage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            types: [],\r\n            add_dialog_show: false,\r\n            dir_name: ''\r\n        }\r\n    }\r\n\r\n    getTypesData = () => {\r\n        ServerNetWorkUtils.getTypesData().then(res => {\r\n            console.log(res)\r\n            this.setState({\r\n                types: res\r\n            })\r\n            this.props.dispatch(actionTypeDirs(res))\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        console.log(\"-----TypeManage-componentDidMount-----\")\r\n        this.getTypesData()\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={styles.main}>\r\n                <div className={styles.add_type}>\r\n                    <Button onClick={this.add_type} shape=\"round\">添加目录</Button>\r\n                    <Button shape=\"round\">编辑目录</Button>\r\n                </div>\r\n                {this.state.types.length > 0 ?\r\n                    <DataShow datas={this.state.types} />\r\n                    : <Empty />}\r\n\r\n                <Modal title=\"添加目录-输入目录名\" visible={this.state.add_dialog_show}\r\n                    onOk={this.handleOk}\r\n                    onCancel={this.handleCancel}>\r\n\r\n                    <Input size=\"large\" placeholder=\"目录名\" value={this.state.dir_name} onChange={this.dir_inputChange} />\r\n\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    dir_inputChange = (evt) => {\r\n        this.setState({\r\n            dir_name: evt.target.value\r\n        }\r\n        )\r\n    }\r\n\r\n    handleOk = () => {\r\n\r\n        console.log(\"dir_name \" + this.state.dir_name)\r\n        //开始上传\r\n        ServerNetWorkUtils.addTypeDir(this.state.dir_name)\r\n            .then(res => {\r\n                console.log(res)\r\n                if (res.objectId) {\r\n                    this.getTypesData()\r\n                }\r\n            });\r\n\r\n        this.setState({\r\n            add_dialog_show: false\r\n        })\r\n    };\r\n\r\n    handleCancel = () => {\r\n        this.setState({\r\n            add_dialog_show: false\r\n        })\r\n    };\r\n    add_type = () => {\r\n        this.setState({\r\n            add_dialog_show: true\r\n        })\r\n    }\r\n}\r\n\r\n\r\nfunction DataShow(props) {\r\n\r\n    return (\r\n        <div className={styles.content}>\r\n            <Row gutter={16}>\r\n                {\r\n                    props.datas.map(data => {\r\n                        return (\r\n                            <Col key={data.objectId}>\r\n                                \r\n                                <Button>{data.name}</Button>\r\n                            </Col>\r\n                        )\r\n                    })\r\n                }\r\n            </Row>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TypeManageConnect= connect()(TypeManage)\r\nexport default TypeManageConnect\r\n"],"sourceRoot":""}