(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{106:function(e,t){},125:function(e,t,a){e.exports={main:"src-features-task_manage-manage__main--1ttAI",top:"src-features-task_manage-manage__top--J-qxG",content:"src-features-task_manage-manage__content--3Cdqj",left_input:"src-features-task_manage-manage__left_input--33Gb9",right_show:"src-features-task_manage-manage__right_show--3IPKz"}},126:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(430),r=a(9),i=a(10),s=a(12),o=a(11),l=a(0),c=a.n(l),u=a(125),g=a.n(u),h=(a(126),a(127)),p=a.n(h),f=(a(332),a(334)),m=a.n(f),d=a(105),v=a.n(d),_=a(2),b={"Content-Type":"multipart/form-data;charset=UTF-8"},x=a(376);x.setOptions({renderer:new x.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1,highlight:function(e,t){if(t&&p.a.getLanguage(t))try{return p.a.highlight(t,e).value}catch(a){}try{return p.a.highlightAuto(e).value}catch(a){}return""}});var j=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).drop=function(e){e.preventDefault();var t,a=Object(n.a)(e.dataTransfer.files);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r&&r.type.match("image.*")){i.postImage2Server(r);break}}}catch(s){a.e(s)}finally{a.f()}},i.pasteFileAction=function(e){var t=e.clipboardData,a=window.navigator.userAgent;if(e.clipboardData&&e.clipboardData.items){if(!(t.items&&2===t.items.length&&"string"===t.items[0].kind&&"file"===t.items[1].kind&&t.types&&2===t.types.length&&"text/plain"===t.types[0]&&"Files"===t.types[1]&&a.match(/Macintosh/i)&&Number(a.match(/Chrome\/(\d{2})/i)[1])<49))for(var n=0;n<t.items.length;n++){var r=t.items[n];if(console.log(r),"file"===r.kind){var s=r.getAsFile();if(0===s.size)return;-1!==s.name.indexOf("image")&&(console.log(s),i.postImage2Server(s));break}}}else console.log("\u65e0\u6cd5\u83b7\u53d6\u7c98\u8d34\u5185\u5bb9")},i.postImage2Server=function(e){console.log("postImage2Server");var t=Date.parse(new Date)/1e3,a="8192--"+t;a=v.a.MD5(a).toString();var n=new FormData;n.append("file",e),n.append("id",8192),n.append("ts",t),n.append("categories","jump-react"),n.append("sign",a),m()({method:"post",url:"https://api.superbed.cn/upload",headers:b,data:n}).then((function(e){var t=e.data.url;console.log("\u4e0a\u4f20\u6210\u529f url "+t);var a="![image]("+t+")\n";i.insert2TextEditer(i.left_input,a),i.setState({textareaValue:i.left_input.value})})).catch((function(e){console.log(e)}))},i.insert2TextEditer=function(e,t){if(console.log("insert2TextEditer "+t),document.selection)document.selection.createRange().text=t;else if("number"===typeof e.selectionStart&&"number"===typeof e.selectionEnd){var a=e.selectionStart,n=e.selectionEnd,r=a,i=e.value;e.value=i.substring(0,a)+t+i.substring(n,i.length),r+=t.length,e.selectionStart=e.selectionEnd=r}else e.value+=t},i.handleTextareaChange=function(e){i.setState({textareaValue:e.target.value})},i.leftTRScorll=function(e){if(e.target.scrollHeight-e.target.clientHeight===e.target.scrollTop)return console.log("\u5e95\u90e8"),void(i.right_show.scrollTop=i.right_show.scrollHeight-i.right_show.clientHeight);var t=i.right_show.scrollHeight/i.left_input.scrollHeight;t>1&&(t*=.9),i.right_show.scrollTop=e.target.scrollTop*t},i.state={textareaValue:""},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=x(this.state.textareaValue);return Object(_.jsxs)("div",{className:g.a.main,children:[Object(_.jsx)("div",{className:g.a.top,children:Object(_.jsx)("h1",{children:"Jump \u7f16\u8f91\u6587\u7ae0"})}),Object(_.jsxs)("div",{className:g.a.content,children:[Object(_.jsx)("textarea",{ref:function(t){e.left_input=t},onScroll:this.leftTRScorll,onDrop:this.drop,onDragOver:function(e){return e.preventDefault()},onPasteCapture:this.pasteFileAction,className:g.a.left_input,value:this.state.textareaValue,onChange:this.handleTextareaChange}),Object(_.jsx)("div",{ref:function(t){e.right_show=t},className:g.a.right_show,dangerouslySetInnerHTML:{__html:t}})]})]})}}]),a}(c.a.Component)}}]);
//# sourceMappingURL=6.e07eecee.chunk.js.map